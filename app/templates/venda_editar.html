{% extends "base.html" %}
{% block conteudo %}
<h1 class="titulo-pagina">Editar Venda</h1>
<form method="post">
    <label>Cliente:</label>
    <select name="cliente_id" required>
        {% for cliente in clientes %}
            <option value="{{ cliente.id }}" {% if cliente.id == venda.cliente_id %}selected{% endif %}>{{ cliente.nome }}</option>
        {% endfor %}
    </select>

    <label>Forma de Pagamento:</label>
    <select name="forma_pagamento" required>
        <option value="avista" {% if venda.forma_pagamento == "avista" %}selected{% endif %}>À Vista</option>
        <option value="prazo" {% if venda.forma_pagamento == "prazo" %}selected{% endif %}>A Prazo</option>
    </select>

    <label>Desconto:</label>
    <input type="number" step="0.01" name="desconto" value="0.00" required>

    <hr>
    <h3>Produtos:</h3>
    {% for item in venda.itens %}
        <div class="produto-item">
            <select name="produto_id">
                {% for produto in produtos %}
                    <option value="{{ produto.id }}" {% if produto.id == item.produto_id %}selected{% endif %}>{{ produto.nome }}</option>
                {% endfor %}
            </select>
            <input type="number" step="0.01" name="quantidade" value="{{ item.quantidade }}" required>
        </div>
    {% endfor %}

    <button type="submit">Salvar Alterações</button>
</form>
{% endblock %}