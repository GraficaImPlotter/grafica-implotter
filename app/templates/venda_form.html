{% extends "base.html" %}

{% block conteudo %}
<h1 class="titulo-pagina">Nova Venda</h1>

<form action="/vendas/nova" method="post" class="formulario">
    <label for="cliente_id">Cliente:</label>
    <select name="cliente_id" required>
        {% for cliente in clientes %}
        <option value="{{ cliente.id }}">{{ cliente.nome }}</option>
        {% endfor %}
    </select>

    <label for="forma_pagamento">Forma de Pagamento:</label>
    <select name="forma_pagamento" required>
        <option value="avista">Ã€ vista</option>
        <option value="prazo">A prazo</option>
    </select>

    <div id="produtos">
        <label>Produtos:</label>
        {% for produto in produtos %}
        <div style="margin-bottom: 5px;">
            <input type="checkbox" name="produto_id" value="{{ produto.id }}"> {{ produto.nome }} (R$ {{ '%.2f'|format(produto.preco_venda or 0) }} / {{ produto.unidade }})
            <input type="number" step="0.01" name="quantidade" placeholder="Quantidade" min="0">
        </div>
        {% endfor %}
    </div>

    <label for="desconto">Desconto (opcional):</label>
    <input type="number" step="0.01" name="desconto" placeholder="0.00">

    <button type="submit">Finalizar Venda</button>
</form>
{% endblock %}